# ðŸš€ IBKR Trading Bot - Ð†Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ñ–Ñ Ð¿Ð¾ Ð·Ð°Ð¿ÑƒÑÐºÑƒ

ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¹ Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ð¸Ð¹ Ð±Ð¾Ñ‚ Ð´Ð»Ñ Interactive Brokers Ð· Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ¾ÑŽ Telegram-ÐºÐ¾Ð¼Ð°Ð½Ð´ Ñ‚Ð° Ð¿Ð»Ð°Ð½ÑƒÐ²Ð°Ð½Ð½Ñ ÑƒÐ³Ð¾Ð´.

## ðŸ“‹ ÐŸÐµÑ€ÐµÐ´ÑƒÐ¼Ð¾Ð²Ð¸

- **macOS** (Monterey Ð°Ð±Ð¾ Ð½Ð¾Ð²Ñ–ÑˆÐµ) Ð°Ð±Ð¾ **Linux**
- **Docker Desktop** Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¾ Ñ‚Ð° Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¾
- **Docker Compose** v2.0+
- ÐžÐ±Ð»Ñ–ÐºÐ¾Ð²Ð¸Ð¹ Ð·Ð°Ð¿Ð¸Ñ **Interactive Brokers** (demo Ð°Ð±Ð¾ live)
- **Telegram Bot Token** (Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð¹Ñ‚Ðµ Ñ‡ÐµÑ€ÐµÐ· [@BotFather](https://t.me/BotFather))

---

## ðŸ”§ ÐšÑ€Ð¾Ðº 1: ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–Ñ—

### 1.1. Ð¡Ñ‚Ð²Ð¾Ñ€Ñ–Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» `.env`

Ð£ ÐºÐ¾Ñ€ÐµÐ½Ñ– Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ (`ibkr-bot/`) ÑÑ‚Ð²Ð¾Ñ€Ñ–Ñ‚ÑŒ Ñ„Ð°Ð¹Ð» `.env`:

```bash
cd ibkr-bot
cat > .env << 'EOF'
# IB Gateway credentials
IB_ACCOUNT=your_ibkr_username
IB_PASSWORD=your_ibkr_password
TRADING_MODE=paper  # Ð°Ð±Ð¾ "live" Ð´Ð»Ñ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ñ‚Ñ€ÐµÐ¹Ð´Ð¸Ð½Ð³Ñƒ

# IB Connection (Ð·Ð°Ð·Ð²Ð¸Ñ‡Ð°Ð¹ Ð½Ðµ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð·Ð¼Ñ–Ð½ÑŽÐ²Ð°Ñ‚Ð¸)
IB_HOST=ib-gateway
IB_PORT=4002
IB_CLIENT_ID=1

# Telegram Bot (Ð¾Ð±Ð¾Ð²'ÑÐ·ÐºÐ¾Ð²Ð¾)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_telegram_chat_id

# Logging (Ð¾Ð¿Ñ†Ñ–Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
LOG_LEVEL=INFO
EOF
```

**Ð’Ð°Ð¶Ð»Ð¸Ð²Ð¾:**
- Ð”Ð»Ñ **demo-Ð°ÐºÐ°ÑƒÐ½Ñ‚Ñƒ** Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹Ñ‚Ðµ:
  - `IB_ACCOUNT=edemo`
  - `IB_PASSWORD=demouser`
  - `TRADING_MODE=paper`
- Ð”Ð»Ñ **live-Ð°ÐºÐ°ÑƒÐ½Ñ‚Ñƒ**:
  - Ð’Ð°ÑˆÑ– Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ– Ð»Ð¾Ð³Ñ–Ð½/Ð¿Ð°Ñ€Ð¾Ð»ÑŒ
  - `TRADING_MODE=live`

### 1.2. ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ¹Ñ‚Ðµ `config/config.yaml`

Ð’Ñ–Ð´Ñ€ÐµÐ´Ð°Ð³ÑƒÐ¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `config/config.yaml`:

```yaml
symbol: "ES"              # Ð¡Ð¸Ð¼Ð²Ð¾Ð» Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñƒ (ES, NQ, YM Ñ‚Ð¾Ñ‰Ð¾)
exchange: "CME"            # Ð‘Ñ–Ñ€Ð¶Ð°
currency: "USD"            # Ð’Ð°Ð»ÑŽÑ‚Ð°
expiry: "202512"           # ÐœÑ–ÑÑÑ†ÑŒ ÐµÐºÑÐ¿Ñ–Ñ€Ð°Ñ†Ñ–Ñ— (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚: YYYYMM)
entry_time_utc: "13:00:00" # Ð§Ð°Ñ Ð²Ñ…Ð¾Ð´Ñƒ Ð² UTC (Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚: HH:MM:SS)
side: "LONG"               # ÐÐ°Ð¿Ñ€ÑÐ¼Ð¾Ðº: "LONG" Ð°Ð±Ð¾ "SHORT"
quantity: 1                # ÐšÑ–Ð»ÑŒÐºÑ–ÑÑ‚ÑŒ ÐºÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚Ñ–Ð²
take_profit_offset: 10.0   # Take Profit Ð²Ñ–Ð´ÑÑ‚Ð°Ð½ÑŒ (Ð² Ð¿ÑƒÐ½ÐºÑ‚Ð°Ñ…)
stop_loss_offset: 5.0      # Stop Loss Ð²Ñ–Ð´ÑÑ‚Ð°Ð½ÑŒ (Ð² Ð¿ÑƒÐ½ÐºÑ‚Ð°Ñ…)
mode: "paper"              # Ð ÐµÐ¶Ð¸Ð¼: "paper" Ð°Ð±Ð¾ "live"
```

**ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´ Ð´Ð»Ñ ES (E-mini S&P 500):**
```yaml
symbol: "ES"
exchange: "CME"
currency: "USD"
expiry: "202512"           # Ð“Ñ€ÑƒÐ´ÐµÐ½ÑŒ 2025
entry_time_utc: "13:00:00" # 13:00 UTC (8:00 EST)
side: "LONG"
quantity: 1
take_profit_offset: 10.0   # 10 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $500 Ð¿Ñ€Ð¸Ð±ÑƒÑ‚ÐºÑƒ
stop_loss_offset: 5.0      # 5 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $250 Ð·Ð±Ð¸Ñ‚ÐºÑƒ
mode: "paper"
```

---

## ðŸ³ ÐšÑ€Ð¾Ðº 2: Ð—Ð°Ð¿ÑƒÑÐº Ñ‡ÐµÑ€ÐµÐ· Docker Compose

### 2.1. Ð—Ð±Ñ–Ñ€ÐºÐ° Ð¾Ð±Ñ€Ð°Ð·Ñ–Ð²

```bash
cd ibkr-bot
docker compose build
```

### 2.2. Ð—Ð°Ð¿ÑƒÑÐº ÑÐµÑ€Ð²Ñ–ÑÑ–Ð²

```bash
# Ð—Ð°Ð¿ÑƒÑÐº Ð¾Ð±Ð¾Ñ… ÑÐµÑ€Ð²Ñ–ÑÑ–Ð² (IB Gateway + Trading Bot)
docker compose up -d

# ÐÐ±Ð¾ Ð·Ð°Ð¿ÑƒÑÐº Ð· Ð»Ð¾Ð³Ð°Ð¼Ð¸ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ñ‡Ð°ÑÑ–
docker compose up
```

### 2.3. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÑƒ

```bash
# Ð¡Ñ‚Ð°Ñ‚ÑƒÑ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ–Ð²
docker compose ps

# ÐžÑ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ð¸Ð¹ Ð²Ð¸Ð²Ñ–Ð´:
# NAME              STATUS          PORTS
# ib-gateway        Up (healthy)     ...
# ib-trading-bot    Up               ...
```

---

## ðŸ“Š ÐšÑ€Ð¾Ðº 3: ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸

### 3.1. ÐŸÐµÑ€ÐµÐ³Ð»ÑÐ´ Ð»Ð¾Ð³Ñ–Ð²

```bash
# Ð›Ð¾Ð³Ð¸ IB Gateway
docker compose logs -f ib-gateway

# Ð›Ð¾Ð³Ð¸ Trading Bot
docker compose logs -f trading-bot

# Ð›Ð¾Ð³Ð¸ Ð¾Ð±Ð¾Ñ… ÑÐµÑ€Ð²Ñ–ÑÑ–Ð²
docker compose logs -f
```

### 3.2. ÐžÑ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ñ– Ð¿Ð¾Ð²Ñ–Ð´Ð¾Ð¼Ð»ÐµÐ½Ð½Ñ

**Ð£ Ð»Ð¾Ð³Ð°Ñ… Ð±Ð¾Ñ‚Ð° Ð²Ð¸ Ð¿Ð¾Ð²Ð¸Ð½Ð½Ñ– Ð¿Ð¾Ð±Ð°Ñ‡Ð¸Ñ‚Ð¸:**
```
âœ… IBKR bot started.
Symbol: ES 202512
Side: LONG qty=1
Entry time (UTC): 13:00:00
```

**Ð£ Telegram Ð²Ð¸ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ñ”Ñ‚Ðµ:**
```
âœ… IBKR bot started.
Symbol: ES 202512
Side: LONG qty=1
Entry time (UTC): 13:00:00
```

### 3.3. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ Ð´Ð¾ IB Gateway

```bash
# ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ°, Ñ‡Ð¸ Ð¿Ñ€Ð°Ñ†ÑŽÑ” IB Gateway
docker compose exec ib-gateway curl -s http://localhost:5000/v1/api/iserver/auth/status

# ÐžÑ‡Ñ–ÐºÑƒÐ²Ð°Ð½Ð¸Ð¹ Ð²Ð¸Ð²Ñ–Ð´: {"authenticated":true} Ð°Ð±Ð¾ Ð¿Ð¾Ð´Ñ–Ð±Ð½Ðµ
```

---

## ðŸ“± ÐšÑ€Ð¾Ðº 4: Telegram ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸

Ð‘Ð¾Ñ‚ Ð¿Ñ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÑ” Ñ–Ð½Ñ‚ÐµÑ€Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ– ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸ Ñ‡ÐµÑ€ÐµÐ· Telegram:

### Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ– ÐºÐ¾Ð¼Ð°Ð½Ð´Ð¸:

- **`/start`** - ÐŸÐ¾Ñ‡Ð°Ñ‚Ð¾Ðº Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸ Ð· Ð±Ð¾Ñ‚Ð¾Ð¼
- **`/positions`** - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚Ð¸ Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ñ– Ð¿Ð¾Ð·Ð¸Ñ†Ñ–Ñ—
- **`/config`** - ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚Ð¸ Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ñƒ ÐºÐ¾Ð½Ñ„Ñ–Ð³ÑƒÑ€Ð°Ñ†Ñ–ÑŽ
- **`CLOSE ALL`** - Ð—Ð°ÐºÑ€Ð¸Ñ‚Ð¸ Ð²ÑÑ– Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ñ– Ð¿Ð¾Ð·Ð¸Ñ†Ñ–Ñ—
- **`TP`** - ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Take Profit
- **`SL`** - ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Stop Loss
- **`TIME`** - ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ñ‡Ð°Ñ Ð²Ñ…Ð¾Ð´Ñƒ

### ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð¸ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ:

```
/positions
â†’ ÐŸÐ¾ÐºÐ°Ð¶Ðµ Ð²ÑÑ– Ð²Ñ–Ð´ÐºÑ€Ð¸Ñ‚Ñ– Ð¿Ð¾Ð·Ð¸Ñ†Ñ–Ñ—

/config
â†’ ÐŸÐ¾ÐºÐ°Ð¶Ðµ Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ñ– Ð½Ð°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ (TP, SL, Ñ‡Ð°Ñ Ð²Ñ…Ð¾Ð´Ñƒ Ñ‚Ð¾Ñ‰Ð¾)

TP 15.0
â†’ Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Take Profit Ð½Ð° 15 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð²

SL 8.0
â†’ Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Stop Loss Ð½Ð° 8 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð²

TIME 14:30:00
â†’ Ð’ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ‡Ð°Ñ Ð²Ñ…Ð¾Ð´Ñƒ Ð½Ð° 14:30 UTC
```

---

## ðŸ› ï¸ Ð£ÑÑƒÐ½ÐµÐ½Ð½Ñ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: IB Gateway Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°Ñ”Ñ‚ÑŒÑÑ

**Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð¸:**
```
ib-gateway | Error: Unable to connect to IB Gateway
```

**Ð Ñ–ÑˆÐµÐ½Ð½Ñ:**
1. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ `.env` Ñ„Ð°Ð¹Ð» - Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð»Ð¾Ð³Ñ–Ð½/Ð¿Ð°Ñ€Ð¾Ð»ÑŒ
2. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ `TRADING_MODE` (Ð¼Ð°Ñ” Ð±ÑƒÑ‚Ð¸ `paper` Ð°Ð±Ð¾ `live`)
3. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ñ–Ñ‚ÑŒ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€:
   ```bash
   docker compose restart ib-gateway
   ```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Trading Bot Ð½Ðµ Ð¿Ñ–Ð´ÐºÐ»ÑŽÑ‡Ð°Ñ”Ñ‚ÑŒÑÑ Ð´Ð¾ IB Gateway

**Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð¸:**
```
âŒ IB connection failed: Could not connect to ib-gateway:4002
```

**Ð Ñ–ÑˆÐµÐ½Ð½Ñ:**
1. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ, Ñ‡Ð¸ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¸Ð¹ IB Gateway:
   ```bash
   docker compose ps ib-gateway
   ```
2. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ Ð»Ð¾Ð³Ð¸ IB Gateway:
   ```bash
   docker compose logs ib-gateway
   ```
3. ÐŸÐµÑ€ÐµÐºÐ¾Ð½Ð°Ð¹Ñ‚ÐµÑÑ, Ñ‰Ð¾ Ð¾Ð±Ð¸Ð´Ð²Ð° ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð¸ Ð² Ð¾Ð´Ð½Ñ–Ð¹ Ð¼ÐµÑ€ÐµÐ¶Ñ– (`ibnet`)

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: Telegram Ð½Ðµ Ð¿Ñ€Ð°Ñ†ÑŽÑ”

**Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð¸:**
```
Telegram error: Invalid token
```

**Ð Ñ–ÑˆÐµÐ½Ð½Ñ:**
1. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ `TELEGRAM_BOT_TOKEN` Ð² `.env`
2. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ `TELEGRAM_CHAT_ID` Ð² `.env`
3. ÐžÑ‚Ñ€Ð¸Ð¼Ð°Ð¹Ñ‚Ðµ Ð½Ð¾Ð²Ð¸Ð¹ Ñ‚Ð¾ÐºÐµÐ½ Ñ‡ÐµÑ€ÐµÐ· [@BotFather](https://t.me/BotFather)
4. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ñ–Ñ‚ÑŒ Ð±Ð¾Ñ‚Ð°:
   ```bash
   docker compose restart trading-bot
   ```

### ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð°: ÐŸÐ¾Ñ€Ñ‚ Ð·Ð°Ð¹Ð½ÑÑ‚Ð¸Ð¹

**Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ð¸:**
```
Error: Port 4002 is already in use
```

**Ð Ñ–ÑˆÐµÐ½Ð½Ñ:**
1. Ð—Ð¼Ñ–Ð½Ñ–Ñ‚ÑŒ Ð¿Ð¾Ñ€Ñ‚ Ð² `.env`:
   ```env
   IB_PORT=4003
   ```
2. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ñ–Ñ‚ÑŒ:
   ```bash
   docker compose down
   docker compose up -d
   ```

---

## ðŸ”„ ÐšÐµÑ€ÑƒÐ²Ð°Ð½Ð½Ñ ÑÐµÑ€Ð²Ñ–ÑÐ°Ð¼Ð¸

### Ð—ÑƒÐ¿Ð¸Ð½ÐºÐ°

```bash
# Ð—ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸ Ð²ÑÑ– ÑÐµÑ€Ð²Ñ–ÑÐ¸
docker compose down

# Ð—ÑƒÐ¿Ð¸Ð½Ð¸Ñ‚Ð¸ Ð· Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ð½ÑÐ¼ Ñ‚Ð¾Ð¼Ñ–Ð²
docker compose down -v
```

### ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº

```bash
# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ Ð²ÑÑ– ÑÐµÑ€Ð²Ñ–ÑÐ¸
docker compose restart

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ Ð±Ð¾Ñ‚Ð°
docker compose restart trading-bot

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ Ñ‚Ñ–Ð»ÑŒÐºÐ¸ IB Gateway
docker compose restart ib-gateway
```

### ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ

```bash
# ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ ÐºÐ¾Ð´ Ð±Ð¾Ñ‚Ð°
git pull  # ÑÐºÑ‰Ð¾ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚Ðµ git
docker compose build trading-bot
docker compose up -d trading-bot

# ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ IB Gateway Ð¾Ð±Ñ€Ð°Ð·
docker compose pull ib-gateway
docker compose up -d ib-gateway
```

---

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ

```
ibkr-bot/
â”œâ”€â”€ bot/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py          # Ð“Ð¾Ð»Ð¾Ð²Ð½Ð¸Ð¹ Ñ„Ð°Ð¹Ð»
â”‚   â”‚   â”œâ”€â”€ ib_client.py     # ÐšÐ»Ñ–Ñ”Ð½Ñ‚ IB Gateway
â”‚   â”‚   â”œâ”€â”€ strategy.py      # Ð¢Ð¾Ñ€Ð³Ð¾Ð²Ð° ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ñ–Ñ
â”‚   â”‚   â”œâ”€â”€ scheduler.py     # ÐŸÐ»Ð°Ð½ÑƒÐ²Ð°Ð»ÑŒÐ½Ð¸Ðº
â”‚   â”‚   â”œâ”€â”€ notifier.py      # Telegram Ð½Ð¾Ñ‚Ð¸Ñ„Ñ–ÐºÐ°Ñ†Ñ–Ñ—
â”‚   â”‚   â””â”€â”€ config.py        # Ð—Ð°Ð²Ð°Ð½Ñ‚Ð°Ð¶ÐµÐ½Ð½Ñ ÐºÐ¾Ð½Ñ„Ñ–Ð³Ñ–Ð²
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ requirements.txt
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yaml          # Ð¢Ð¾Ñ€Ð³Ð¾Ð²Ñ– Ð½Ð°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ bot.log             # Ð›Ð¾Ð³Ð¸ Ð±Ð¾Ñ‚Ð°
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .env                    # Ð¡ÐµÐºÑ€ÐµÑ‚Ð¸ (Ð½Ðµ ÐºÐ¾Ð¼Ñ–Ñ‚Ð¸Ñ‚Ð¸!)
â””â”€â”€ README.md
```

---

## âš™ï¸ ÐÐ°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ð´Ð»Ñ Ñ€Ñ–Ð·Ð½Ð¸Ñ… Ñ–Ð½ÑÑ‚Ñ€ÑƒÐ¼ÐµÐ½Ñ‚Ñ–Ð²

### ES (E-mini S&P 500)
```yaml
symbol: "ES"
exchange: "CME"
expiry: "202512"
take_profit_offset: 10.0  # 10 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $500
stop_loss_offset: 5.0     # 5 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $250
```

### NQ (E-mini NASDAQ-100)
```yaml
symbol: "NQ"
exchange: "CME"
expiry: "202512"
take_profit_offset: 20.0  # 20 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $400
stop_loss_offset: 10.0    # 10 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $200
```

### YM (E-mini Dow)
```yaml
symbol: "YM"
exchange: "CBOT"
expiry: "202512"
take_profit_offset: 50.0  # 50 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $250
stop_loss_offset: 25.0    # 25 Ð¿ÑƒÐ½ÐºÑ‚Ñ–Ð² = $125
```

---

## ðŸ”’ Ð‘ÐµÐ·Ð¿ÐµÐºÐ°

1. **ÐÑ–ÐºÐ¾Ð»Ð¸ Ð½Ðµ ÐºÐ¾Ð¼Ñ–Ñ‚ÑŒÑ‚Ðµ `.env` Ñ„Ð°Ð¹Ð»** - Ð²Ñ–Ð½ Ð¼Ñ–ÑÑ‚Ð¸Ñ‚ÑŒ Ð²Ð°ÑˆÑ– Ð¾Ð±Ð»Ñ–ÐºÐ¾Ð²Ñ– Ð´Ð°Ð½Ñ–
2. Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹Ñ‚Ðµ `.gitignore` Ð´Ð»Ñ Ð²Ð¸ÐºÐ»ÑŽÑ‡ÐµÐ½Ð½Ñ ÑÐµÐºÑ€ÐµÑ‚Ñ–Ð²
3. Ð”Ð»Ñ production Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹Ñ‚Ðµ Docker secrets Ð°Ð±Ð¾ Ð·Ð¼Ñ–Ð½Ð½Ñ– ÑÐµÑ€ÐµÐ´Ð¾Ð²Ð¸Ñ‰Ð°
4. Ð ÐµÐ³ÑƒÐ»ÑÑ€Ð½Ð¾ Ð¾Ð½Ð¾Ð²Ð»ÑŽÐ¹Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»Ñ–

---

## ðŸ“ž ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ°

Ð¯ÐºÑ‰Ð¾ Ð²Ð¸Ð½Ð¸ÐºÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ð¸:

1. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ Ð»Ð¾Ð³Ð¸: `docker compose logs -f`
2. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑ: `docker compose ps`
3. ÐŸÐµÑ€ÐµÐºÐ¾Ð½Ð°Ð¹Ñ‚ÐµÑÑ, Ñ‰Ð¾ Ð²ÑÑ– Ð·Ð¼Ñ–Ð½Ð½Ñ– Ð² `.env` Ð·Ð°Ð¿Ð¾Ð²Ð½ÐµÐ½Ñ–
4. ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ñ‚Ðµ, Ñ‰Ð¾ IB Gateway Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð¸Ð¹

---

## âœ… Ð§ÐµÐºÐ»Ð¸ÑÑ‚ Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°Ð¿ÑƒÑÐºÐ¾Ð¼

- [ ] Docker Desktop Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½Ð¸Ð¹
- [ ] Ð¤Ð°Ð¹Ð» `.env` ÑÑ‚Ð²Ð¾Ñ€ÐµÐ½Ð¾ Ñ‚Ð° Ð·Ð°Ð¿Ð¾Ð²Ð½ÐµÐ½Ð¾
- [ ] Ð¤Ð°Ð¹Ð» `config/config.yaml` Ð½Ð°Ð»Ð°ÑˆÑ‚Ð¾Ð²Ð°Ð½Ð¾
- [ ] Telegram Bot Token Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾
- [ ] Telegram Chat ID Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð¾
- [ ] IB Gateway credentials Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ–
- [ ] ÐšÐ¾Ð½Ñ‚Ñ€Ð°ÐºÑ‚ (expiry) Ð°ÐºÑ‚ÑƒÐ°Ð»ÑŒÐ½Ð¸Ð¹

---

**Ð“Ð¾Ñ‚Ð¾Ð²Ð¾!** Ð’Ð°Ñˆ Ñ‚Ð¾Ñ€Ð³Ð¾Ð²Ð¸Ð¹ Ð±Ð¾Ñ‚ Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ð¹ Ð´Ð¾ Ñ€Ð¾Ð±Ð¾Ñ‚Ð¸. ðŸš€

